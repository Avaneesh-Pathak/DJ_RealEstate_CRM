{% extends 'base.html' %}
{% load tailwind_filters %}

{% block content %}
<!-- <style>
    .hide {
        display: none;
    }

    .myDIV:hover+ .hide {
        display: block;
        position:absolute; 
        color: red;
        z-index: 10;
        transition: opacity 0.3s ease-in-out;
        
    }
     -->
    <!-- /* .myDIV:hover + .hide {
        display: block; /* Show the popup on hover */
        /* position: absolute; Position the popup absolutely */
        /* left: 100%; Position it to the right of the property box */
        /* top: 0; Align at the top of the property box */
        /* z-index: 10; Ensure it appears above other content */
        /* background-color: #fff; Background color for visibility */
        /* border-radius: 10px; Rounded corners */
        /* padding: 10px; Add some padding */
        /* box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); Shadow for depth */
        /* transition: opacity 0.3s ease-in-out; Transition for smooth appearance */
        /* opacity: 1; Fully opaque when displayed */
    } */ -->


<!-- </style> -->

<div class="w-full mb-6 py-6 flex justify-between items-center border-b border-gray-200">
    <div>
        <h1 class="ml-8 text-4xl text-gray-800">Properties</h1>
    </div>
    {% if request.user.is_organisor %}
    <div>
        <a class="mr-10 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
            href="{% url 'leads:property-create' %}">
            Create a new property
        </a>
        <a class="mr-40 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
            href="{% url 'leads:select_properties' %}">
            Update
        </a>
    </div>
    {% endif %}
</div>

<!-- Grid layout for properties with 5 columns -->
<div style="border-radius:20%;" class="grid grid-cols-8 gap-7">
    {% for property in properties %}
    <!-- <div  style="border-radius:10%;" class="bg-white shadow-lg rounded-lg overflow-hidden relative border-4"> -->
    <div style="border-radius:20%;background-color: {% if property.is_sold %} rgba(255, 0.5, 0.4, 0.4); {% else %} rgba(0, 255, 0, 0.2); {% endif %}"
        class=" myDIV px-4 py-4">
        <h2 class="font-bold text-xl mb-2">{{ property.title }}</h2>
        <p class="text-gray-700 text-base">Total Price: ${{ property.totalprice }}</p>
        <p class="text-gray-700 text-base">Plot type: {{ property.type }}</p>
        <p class="text-gray-700 text-base">Price: ${{ property.price }}</p>
        <!-- <p class="text-gray-700 text-base">Sold Status: {% if property.is_sold %} Sold {% else %} Available {% endif %}</p> -->
    </div>

    <!-- Hidden details to be shown on hover -->
    <!-- <div style="border-radius:10%; background-color: #fff;"
        class="hide">
        <h2 class="font-bold text-xl mb-2">{{ property.title }}</h2>
        <p class="text-gray-700 text-base"><strong>Length:</strong> {{ property.length }}</p>
        <p class="text-gray-700 text-base"><strong>Breadth:</strong> {{ property.breadth }}</p>
        <p class="text-gray-700 text-base"><strong>Area:</strong> {{ property.area }} sq.ft.</p>
        <p class="text-gray-700 text-base"><strong>Type:</strong> {{ property.type }}</p>
        <p class="text-gray-700 text-base"><strong>Total Price:</strong> ${{ property.totalprice }}</p>
        <p class="text-gray-700 text-base"><strong>Project Name:</strong> {{ property.project_id }}</p>
        <p class="text-gray-700 text-base"><strong>Price:</strong> ${{ property.price }}</p>
        <p class="text-gray-700 text-base"><strong>Agent:</strong> {{ property.agent }}</p>
    </div> -->
    <!-- </div> -->
    {% empty %}
    <div class="bg-red-100 p-4 rounded w-full">No properties available.</div>
    {% endfor %}
</div>
{% endblock content %}
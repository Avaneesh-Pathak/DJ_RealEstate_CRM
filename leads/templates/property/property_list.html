{% extends 'base.html' %}
{% load tailwind_filters %}

{% block content %}
<style>
    /* Responsive grid layout */
    @media (max-width: 1200px) {
        .grid {
            grid-template-columns: repeat(4, 1fr); /* Show 4 columns on large screens */
        }
    }

    @media (max-width: 992px) {
        .grid {
            grid-template-columns: repeat(3, 1fr); /* Show 3 columns on medium screens */
        }
    }

    @media (max-width: 768px) {
        .grid {
            grid-template-columns: repeat(2, 1fr); /* Show 2 columns on small screens */
        }
    }

    @media (max-width: 576px) {
        .grid {
            grid-template-columns: 1fr; /* Show 1 column on extra small screens */
        }
    }
</style>

<div class="w-full mb-6 py-6 flex justify-between items-center border-b border-gray-200">
    <div>
        <h1 class="ml-8 text-4xl text-gray-800">Properties</h1>
    </div>
    {% if request.user.is_organisor %}
    <div>
        <a class="mr-10 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
            href="{% url 'leads:property-create' %}">
            Create a new property
        </a>
        <a class="mr-40 inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700"
            href="{% url 'leads:select_properties' %}">
            Update
        </a>
    </div>
    {% endif %}
</div>

<!-- Grid layout for properties with 5 columns -->
<div style="border-radius:20%;" class="grid grid-cols-8 gap-7">
    {% for property in properties %}
    <div style="border-radius:20%;background-color: {% if property.is_sold %} rgba(255, 0.5, 0.4, 0.4); {% else %} rgba(0, 255, 0, 0.3); {% endif %}"
        class=" myDIV px-4 py-4">
        <h2 class="font-bold text-xl mb-2">{{ property.title }}</h2>
        <p class="text-black-900 font-bold text-base">Total Price: ₹{{ property.totalprice }}</p>
        <p class="text-black-900 font-bold text-base">Plot type: {{ property.type }}</p>
        <p class="text-black-900 font-bold text-base">Price: ₹{{ property.price }}</p>
    </div>
    {% empty %}
    <div class="bg-red-100 p-4 rounded w-full">No properties available.</div>
    {% endfor %}
</div>
{% endblock content %}